"use strict";(self.webpackChunkresume_angular=self.webpackChunkresume_angular||[]).push([[200],{3200:(S,c,l)=>{l.r(c),l.d(c,{HappyHopperModule:()=>v});var h=l(9686),t=l(4581),o=l(7919),e=l(5879),s=l(7852);let d=(()=>{class g{constructor(){this.BasicColors=o.h}static#e=this.\u0275fac=function(w){return new(w||g)};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["happy-hopper"]],decls:6,vars:2,consts:[[1,"contents","col"],["routerLink","/projects/happy-hopper/play"],[3,"oversized","stroke"]],template:function(w,_){1&w&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Happy Hopper"),e.qZA(),e.TgZ(3,"a",1)(4,"shared-stroked-button",2),e._uU(5," Play "),e.qZA()()()),2&w&&(e.xp6(4),e.Q6J("oversized",!0)("stroke",_.BasicColors.accent))},dependencies:[t.rH,s.g],styles:[".contents[_ngcontent-%COMP%]{align-items:center;text-align:center;padding:2rem}"]})}return g})();var i=l(9653),n=l(2296),a=l(617);const r=["gameCanvas"],m=[{path:"",component:d},{path:"play",component:(()=>{class g{constructor(f){this._router=f,this.gameOver=new e.vpe,this.BACKGROUND_MUSIC_URL=i.o8,this.CANVAS_SIZE=i.hI}ngAfterViewInit(){this.gameLoop=new i.DX(this.gameCanvas.nativeElement,{start:!0}),document.addEventListener("game-over",()=>{this.gameLoop.stopGameLoop(),this.gameOver.emit(),this._router.navigate(["/projects/happy-hopper"])})}static#e=this.\u0275fac=function(w){return new(w||g)(e.Y36(t.F0))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["happy-hopper-play"]],viewQuery:function(w,_){if(1&w&&e.Gf(r,5),2&w){let x;e.iGM(x=e.CRH())&&(_.gameCanvas=x.first)}},outputs:{gameOver:"gameOver"},decls:11,vars:3,consts:[[1,"contents","row"],["routerLink","/projects/happy-hopper"],["mat-icon-button","","matTooltip","Close player",1,"exit"],[1,"game-container"],[1,"game-canvas",3,"width","height"],["gameCanvas",""],["autoplay","","loop","",1,"background-music"],["type","audio/mpeg",3,"src"]],template:function(w,_){1&w&&(e.TgZ(0,"div",0)(1,"a",1)(2,"button",2)(3,"mat-icon"),e._uU(4,"close"),e.qZA()()(),e.TgZ(5,"div",3),e._UZ(6,"canvas",4,5),e.qZA(),e.TgZ(8,"audio",6),e._UZ(9,"source",7),e._uU(10," Your browser does not support the audio element. "),e.qZA()()),2&w&&(e.xp6(6),e.Q6J("width",_.CANVAS_SIZE)("height",_.CANVAS_SIZE),e.xp6(3),e.s9C("src",_.BACKGROUND_MUSIC_URL,e.LSH))},dependencies:[t.rH,n.RK,a.Hw],styles:[".contents[_ngcontent-%COMP%]{justify-content:center;align-items:center;overflow:hidden;width:100%;height:100%;padding:min(2.5vw,2.5vh)}.contents[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem}.contents[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;font-size:2rem;margin:-.2rem 0 0 -.2rem}.contents[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:min(95vw,95vh);height:min(95vw,95vh)}.contents[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%}"]})}return g})()}];let p=(()=>{class g{static#e=this.\u0275fac=function(w){return new(w||g)};static#t=this.\u0275mod=e.oAB({type:g});static#i=this.\u0275inj=e.cJS({imports:[t.Bz.forChild(m),t.Bz]})}return g})(),v=(()=>{class g{static#e=this.\u0275fac=function(w){return new(w||g)};static#t=this.\u0275mod=e.oAB({type:g});static#i=this.\u0275inj=e.cJS({imports:[p,h.m]})}return g})()},7760:(S,c,l)=>{var h;let t;Object.defineProperty(c,"__esModule",{value:!0}),c.environment=void 0;try{t=l(Object(function(){var e=new Error("Cannot find module './environment.override.ts'");throw e.code="MODULE_NOT_FOUND",e}()))}catch{console.error("No overrides found")}c.environment={version:`${l(2113).i8}`,assetPrefix:"https://stu-resume-website.s3.us-west-1.amazonaws.com/frogger/",highScores:{key:"frogger-scores",limit:5},controlsKey:"frogger-controls"},c.environment=Object.assign(c.environment,null!==(h=t?.environment)&&void 0!==h?h:{})},9653:(S,c,l)=>{c.o8=c.hI=c.DX=void 0;const t=l(9549);Object.defineProperty(c,"DX",{enumerable:!0,get:function(){return t.GameLoop}});const o=l(6696),e=l(7760);c.hI=o.Game.SQR_SIZE,c.o8=`${e.environment.assetPrefix}background.mp3`},8985:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BoardRow=void 0;const h=l(9155),t=l(6696),o=l(8364),e=l(628);class s{constructor(i){var n,a,r,u,m,p;this.obstacles=[],this.position=i.position,this.move=i.move,this.background=i.background,this.size=null!==(n=i.size)&&void 0!==n?n:{width:t.Game.SQR_SIZE,height:t.Game.ROW_HEIGHT},this.defaultSafe=!!i.defaultSafe,this.obstacles=null!==(a=i.currObstacles)&&void 0!==a?a:[],this.nextObstacles=null!==(r=i.obstacles)&&void 0!==r?r:[],this.nextObstaclesIdx=(null!==(u=i.obstaclesIdx)&&void 0!==u?u:this.nextObstacles.length)?0:null,this.min=null!==(m=i.min)&&void 0!==m?m:{x:-t.Game.SQR_SIZE,y:this.position.y},this.max=null!==(p=i.max)&&void 0!==p?p:{x:2*t.Game.SQR_SIZE,y:this.position.y+this.size.height}}get rowStart(){return"left"===this.move.direction?new e.Position({x:this.position.x+this.size.width,y:this.position.y}):this.position.deepCopy()}deepCopy(i){return new s(this.deepCopyParams(i))}deepCopyParams(i){var n;const a=this.position.deepCopy();return i?.offset&&a.offset(i.offset),{position:a,move:this.move.deepCopy(),background:this.background,size:{...this.size},defaultSafe:this.defaultSafe,obstacles:this.nextObstacles.map(r=>({wait:r.wait,obstacles:r.obstacles.map(u=>o.Obstacle.deepCopySpriteDangerArr(u))})),currObstacles:null===(n=this.obstacles)||void 0===n?void 0:n.map(r=>r.deepCopy()),min:{...this.min},max:{...this.max}}}getCollision(i){if(this.min.y>i.center.y||this.max.y<i.center.y)return null;const n=[];for(const r of this.obstacles){const u=r.getCollision(i);u&&n.push(u)}let a=n.reduce((r,u)=>{var m,p,v,g,y,f,w,_;let x;r?.type===h.CollisionType.die||u.type===h.CollisionType.die?x=h.CollisionType.die:(r?.type===h.CollisionType.win||u.type===h.CollisionType.win)&&(x=h.CollisionType.win);const C=Math.max(null!==(m=r?.column)&&void 0!==m?m:-1,null!==(p=u.column)&&void 0!==p?p:-1);return{isDefault:!1,drift:{x:Math.abs(null!==(v=r?.drift.x)&&void 0!==v?v:0)>Math.abs(u.drift.x)?null!==(g=r?.drift.x)&&void 0!==g?g:0:u.drift.x,y:Math.abs(null!==(y=r?.drift.y)&&void 0!==y?y:0)>Math.abs(u.drift.y)?null!==(f=r?.drift.y)&&void 0!==f?f:0:u.drift.y},type:x,points:(null!==(w=r?.points)&&void 0!==w?w:0)+(null!==(_=u.points)&&void 0!==_?_:0),column:-1!==C?C:void 0}},null);return a||(a={isDefault:!0,drift:{...this.move.drift},type:this.defaultSafe?void 0:h.CollisionType.die}),a}render(i){this.renderBackground(i),this.obstacles.forEach(n=>n.render(i))}startLevel(){}update(i){this._updateObstacles(i),this._updateNextObstacles(i)}_addNextObstacles(){if(null===this.nextObstaclesIdx)return;const i=this.nextObstacles[this.nextObstaclesIdx].obstacles;for(let n=0;n<i.length;n++){const a=this.rowStart.deepCopy(),u={...i[n][0].sprite.drawSize};a.offset(0===a.x?{x:-u.width*(1+n),y:0}:{x:u.width*n,y:0});const m=new o.Obstacle({position:a,move:this.move.deepCopy(),spriteDangerArr:o.Obstacle.deepCopySpriteDangerArr(i[n]),size:u});this.obstacles.unshift(m)}}renderBackground(i){const n_width=this.size.height;for(let a=0;a<this.size.width/this.size.height;a++){const r={x:this.position.x+n_width*a,y:this.position.y};this.background instanceof Array?a<this.background.length?this.background[a].render(r,i):this.background[this.background.length-1].render(r,i):this.background.render(r,i)}}_updateNextObstacles(i){if(null===this.nextObstaclesIdx)return;const n=this.nextObstacles[this.nextObstaclesIdx];n.wait.update(i);const a=n.wait.timer;a<=0&&(this._addNextObstacles(),n.wait.reset(),this.nextObstaclesIdx=(this.nextObstaclesIdx+1)%this.nextObstacles.length,this._updateNextObstacles(a))}_updateObstacles(i){const n=[];this.obstacles.forEach(a=>{a.update(i),a.position.x>this.min.x&&a.position.x<this.max.x&&n.push(a)}),this.obstacles=n}}c.BoardRow=s},1990:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Character=void 0;const h=l(5760),t=l(1831),o=l(2468),e=l(1897);class s{constructor(i){var n;this.guts=null,this.dead=!1,this.radius=i.radius,this.position=i.position,this.initialPosition=i.position.deepCopy(),this.audio=i.audio,this.hasMoved=!!i.hasMoved,this.move=i.move,this.sprite=i.sprite,this.dyingSprite=i.dyingSprite,this.dead=!!i.dead,this.dyingTimer=new o.Clock({timer:0,initialTime:s.DEATH_LENGTH}),this.shouldRender=null===(n=i.shouldRender)||void 0===n||n}get isDying(){return this.dyingTimer.timer>0}get hitCircle(){return{center:{x:this.position.x,y:this.position.y},radius:.5*this.radius}}render(i){var n;this.shouldRender&&(this.isDying?(this.dyingSprite.render(this.position,i,{asCenter:!0}),null===(n=this.guts)||void 0===n||n.render(i)):this.dead||this.sprite.render(this.position,i,{asCenter:!0}))}reset(){this.shouldRender=!0,this.dead=!1,this.hasMoved=!1,this.dyingTimer.timer=0,this.move.reset(),this.position=this.initialPosition.deepCopy()}startDying(){this.dyingTimer.reset(),this.guts=new e.ParticleSystem({sprite:h.GameSpriteService.gameSprites.guts,center:this.position,size:{mean:20,stdDev:5},speed:{mean:0,stdDev:.2},lifetime:{mean:1e3,stdDev:100}})}setMove(i){if(!this.move.direction){if("up"===i&&this.position.setNextMoveCenter({x:0,y:-1},this.move.distance))this.position.angle=Math.PI;else if("down"===i&&this.position.setNextMoveCenter({x:0,y:1},this.move.distance))this.position.angle=0;else if("right"===i&&this.position.setNextMoveCenter({x:1,y:0},this.move.distance))this.position.angle=1.5*Math.PI;else if("left"===i&&this.position.setNextMoveCenter({x:-1,y:0},this.move.distance))this.position.angle=.5*Math.PI;else if(i)return;this.move.direction=i,this.move.clock.reset(),this._startMoveAudio(),this.hasMoved=!0}}update(i){this.isDying?this._updateDying(i):this.dead||this._move(i)}_drawHitCircle(i){t.GraphicService.drawCircle(i,{circle:this.hitCircle,fillStyle:"orange"})}_move(i){if(!this.position.nextCenter)throw Error("Character must have a next center pos");this.position.x+=this.move.drift.x*i,this.position.nextCenter.x+=this.move.drift.x*i,this.move.direction&&(this.move.update(i),this.sprite.curr=this.sprite.sprites-Math.floor(this.move.clock.timer/(this.move.clock.initialTime/this.sprite.sprites)),this.move.clock.timer>0?this.position.update(i,this.move):(this.sprite.reset(),this.position.x=this.position.nextCenter.x,this.position.y=this.position.nextCenter.y,this.position.startCenter=this.position,this.position.setNextMoveCenter(this.position,0),this.move.reset()))}_startMoveAudio(){this.audio&&(this.audio.currentTime=0,this.audio.play())}_updateDying(i){var n;this.dyingTimer.update(i),null===(n=this.guts)||void 0===n||n.update(i),this.position.offset({x:0,y:i/1e3}),!(this.dyingTimer.timer>0)&&(this.dyingTimer.timer=0,this.guts=null,this.dead=!0)}}c.Character=s,s.MOVE_TIMER=250,s.DEATH_LENGTH=2e3},2468:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Clock=void 0;const h=l(7928);class t{constructor(e){var s,d,i;this.initialTime=null!==(d=null!==(s=e?.initialTime)&&void 0!==s?s:e?.timer)&&void 0!==d?d:1e5,this._timer=new h.NumberRef(null!==(i=e?.timer)&&void 0!==i?i:this.initialTime)}deepCopy(){return new t({timer:this.timer,initialTime:this.initialTime})}reset(){this.timer=this.initialTime}update(e){return this.timer=this.timer-e,this.timer}get timer(){return this._timer.getValue()}set timer(e){this._timer.next(e)}}c.Clock=t},9155:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CollisionType=void 0;var l=function(h){return h.win="win",h.die="die",h}(l||(c.CollisionType=l={}))},9721:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Controls=void 0;const h=l(7760);class t{constructor(e){var s,d,i,n;this.up="ArrowUp",this.down="ArrowDown",this.left="ArrowLeft",this.right="ArrowRight",this.up=null!==(s=e?.up)&&void 0!==s?s:this.up,this.down=null!==(d=e?.down)&&void 0!==d?d:this.down,this.left=null!==(i=e?.left)&&void 0!==i?i:this.left,this.right=null!==(n=e?.right)&&void 0!==n?n:this.right}static FromLocalStorage(){const e=localStorage.getItem(h.environment.controlsKey),s=e?JSON.parse(e):{};return new t(s)}toLocalStorage(){const e={...this},s=JSON.stringify(e);localStorage.setItem(h.environment.controlsKey,s)}}c.Controls=t},9655:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GameBoard=void 0;const h=l(3148);c.GameBoard=class t{constructor(e){this.rows=e.rows}allIdxDone(){for(const e of this.rows)if(e instanceof h.WinRow&&!e.completed)return!1;return!0}getCollision(e){for(const s of this.rows)if(e.center<=s.max&&e.center>=s.min){const d=s.getCollision(e);if(d)return d}return{drift:{x:0,y:0},isDefault:!0}}render(e){this.rows.forEach(s=>s.render(e))}startLevel(){this.rows.forEach(e=>e.startLevel())}update(e){this.rows.forEach(s=>s.update(e))}}},110:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GameSprite=void 0;var l=function(h){return h.turtle="turtle",h.turtleEmerging="turtleEmerging",h.turtleSink="turtleSink",h.lillyPad="lillyPad",h.fly="fly",h.grass="grass",h.river="river",h.road="road",h.winBad="winBad",h.winGood="winGood",h.logLg="logLg",h.logSm="logSm",h.die="die",h.carFire="carFire",h.carSemi="carSemi",h.carBlue="carBlue",h.carGreen="carGreen",h.carYellow="carYellow",h.frog="frog",h.alligatorBody="alligatorBody",h.alligatorHead="alligatorHead",h.guts="guts",h.fire="fire",h}(l||(c.GameSprite=l={}))},6696:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Game=void 0;const h=l(2468),t=l(7928);class o{constructor(s){var d,i,n,a,r,u,m;this.levels=null!==(d=s.levels)&&void 0!==d?d:1,this.character=s.character,this.board=s.board,this.waitTimer=new h.Clock({timer:0,initialTime:null!==(i=s.waitTimer)&&void 0!==i?i:1e3}),this._score=new t.NumberRef(null!==(n=s.score)&&void 0!==n?n:100),this.level=null!==(a=s.level)&&void 0!==a?a:0,this.lives=new t.NumberRef(null!==(r=s.lives)&&void 0!==r?r:3),this.won=!!s.won,this.gameOver=!!s.gameOver,this.gameOverClock=null!==(u=s.gameOverClock)&&void 0!==u?u:new h.Clock({initialTime:3e3}),this.clock=null!==(m=s.clock)&&void 0!==m?m:new h.Clock,this.playing=!!s.playing}startLevel(){this.character.reset(),this.waitTimer.reset(),this.lives.next(3),this.won=!1,this.gameOver=!1,this.clock.reset(),this.board.startLevel(),this.playing=!0}get score(){return this._score.getValue()}set score(s){this._score.next(s)}}c.Game=o,o.SQR_SIZE=1024,o.ROWS=14,o.ROW_HEIGHT=o.SQR_SIZE/o.ROWS},7667:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Move=void 0;const h=l(2468);class t{constructor(e){var s,d,i;this.direction=null!==(s=e.direction)&&void 0!==s?s:null,this.clock=null!==(d=e.clock)&&void 0!==d?d:new h.Clock({timer:250}),this.distance=e.distance,this.ppms=e.distance/this.clock.initialTime,this.drift=null!==(i=e.drift)&&void 0!==i?i:{x:0,y:0},this._initDrift={...this.drift}}deepCopy(){return new t({distance:this.distance,drift:{...this.drift},direction:this.direction,clock:this.clock.deepCopy()})}reset(){this.direction=null,this.clock.timer=0,this.drift={...this._initDrift}}update(e){this.clock.update(e)}}c.Move=t},7928:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NumberRef=void 0,c.NumberRef=class l{constructor(t){this.num=0,this.num=t}next(t){this.num=t}getValue(){return this.num}}},8364:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Obstacle=void 0;const h=l(141),t=l(1831),o=l(9155),e=l(6696);class s{constructor(i){var n,a;this.position=i.position,this.move=i.move,this.spriteDangerArr=i.spriteDangerArr,this.spriteIdx=null!==(n=i.spriteIdx)&&void 0!==n?n:0,this.size=null!==(a=i.size)&&void 0!==a?a:{width:e.Game.ROW_HEIGHT,height:e.Game.ROW_HEIGHT}}get points(){var i;return null!==(i=this.spriteDangerArr[this.spriteIdx].points)&&void 0!==i?i:0}get safe(){return!!this.spriteDangerArr[this.spriteIdx].safe}get win(){return!!this.spriteDangerArr[this.spriteIdx].win}get hitBox(){return{x:this.position.x+5,y:this.position.y+e.Game.ROW_HEIGHT/4,width:this.size.width-10,height:this.size.height-e.Game.ROW_HEIGHT/2}}getCollision(i){if(!h.CollisionService.rectCircleIntersect(this.position,this.size,i))return null;let a=null;return this.win&&(a=o.CollisionType.win),this.safe||(a=o.CollisionType.die),{drift:this.move.drift,isDefault:!1,type:a??void 0,points:this.points}}deepCopy(i){var n,a,r,u;return new s({position:null!==(n=i?.position)&&void 0!==n?n:this.position.deepCopy(),move:null!==(a=i?.move)&&void 0!==a?a:this.move.deepCopy(),spriteDangerArr:null!==(r=i?.spriteDangerArr)&&void 0!==r?r:this.spriteDangerArr.map(m=>({sprite:m.sprite.deepCopy(),safe:m.safe,clock:m.clock?m.clock.deepCopy():void 0})),spriteIdx:null!==(u=i?.spriteIdx)&&void 0!==u?u:this.spriteIdx})}render(i){this.spriteDangerArr[this.spriteIdx].sprite.render(this.position,i)}update(i){if(this.move.update(i),this.move.clock.timer<=0){const n=this.move.clock.timer;this.move.clock.reset(),this.move.clock.update(-n)}this.position.update(i,this.move),this._updateSpriteDangerArr(i)}_drawHitbox(i){t.GraphicService.drawBox(i,{position:this.position,size:this.size,fillStyle:this.spriteDangerArr[this.spriteIdx].safe?"blue":"red"})}_updateSpriteDangerArr(i){var n,a,r;const u=this.spriteDangerArr[this.spriteIdx];if(null===(n=u.clock)||void 0===n||n.update(i),u.sprite.update(i),u.clock&&(null===(a=u.clock)||void 0===a?void 0:a.timer)<=0){const m=u.clock.timer;u.clock.reset(),u.sprite.reset(),this.spriteIdx=(this.spriteIdx+1)%(null===(r=this.spriteDangerArr)||void 0===r?void 0:r.length),this._updateSpriteDangerArr(-m)}}static deepCopySpriteDanger(i){var n;return{sprite:i.sprite.deepCopy(),safe:i.safe,points:i.points,win:i.win,clock:null===(n=i.clock)||void 0===n?void 0:n.deepCopy()}}static deepCopySpriteDangerArr(i){return i.map(n=>s.deepCopySpriteDanger(n))}}c.Obstacle=s},1897:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ParticleSystem=void 0;const h=l(1976),t=l(4647);c.ParticleSystem=class o{constructor(s){var d,i;this.creationCycles=5,this.sprite=s.sprite,this.center=s.center,this.size=s.size,this.speed=s.speed,this.lifetime=s.lifetime,this.particles=null!==(d=s.particles)&&void 0!==d?d:[],this.creationCycles=null!==(i=s.creationCycles)&&void 0!==i?i:5}render(s){for(const d of this.particles)d.render(s)}update(s){const d=[];for(const i of this.particles)i.update(s),i.expired||d.push(i);if(this.particles=d,this.creationCycles){for(let i=0;i<15;i++){const n=Math.abs(h.RandomService.nextGaussian(this.size)),a=new t.Particle({sprite:this.sprite,center:this.center,size:{width:n,height:n},rotation:0,speed:h.RandomService.nextGaussian(this.speed),direction:h.RandomService.nextCircleVector(),lifetime:h.RandomService.nextGaussian(this.lifetime)});this.particles.unshift(a)}this.creationCycles--}}}},4647:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Particle=void 0,c.Particle=class l{constructor(t){var o,e,s,d;this.rotation=0,this.age=0,this.fill="rgb(255, 255, 255)",this.stroke="rgb(0, 0, 0)",this.sprite=t.sprite,this.center=t.center,this.size=t.size,this.speed=t.speed,this.direction=t.direction,this.lifetime=t.lifetime,this.rotation=null!==(o=t.rotation)&&void 0!==o?o:0,this.age=null!==(e=t.age)&&void 0!==e?e:0,this.fill=null!==(s=t.fill)&&void 0!==s?s:"rgb(255, 255, 255)",this.stroke=null!==(d=t.stroke)&&void 0!==d?d:"rgb(0, 0, 0)"}render(t){this.sprite.render(this.center,t,{asCenter:!0,sizeOverride:this.size})}update(t){this.age+=t,this.center.x+=this.speed*this.direction.x*t,this.center.y+=this.speed*this.direction.y*t+this.age/200,this.rotation+=.5*this.speed}get expired(){return this.age>this.lifetime}}},628:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Position=void 0;class l{constructor(t){var o,e;this.x=t.x,this.y=t.y,this.angle=null!==(o=t.angle)&&void 0!==o?o:0,this.min=null!==(e=t.min)&&void 0!==e?e:{x:0,y:0},this.max=t.max,this.startCenter={x:this.x,y:this.y},this.nextCenter=this.startCenter}deepCopy(){return new l({x:this.x,y:this.y,angle:this.angle,min:this.min?{...this.min}:void 0,max:this.max?{...this.max}:void 0,nextCenter:this.nextCenter?{...this.nextCenter}:void 0,startCenter:this.startCenter?{...this.startCenter}:void 0})}update(t,o){"up"===o.direction?this.offset({x:0,y:-o.ppms*t}):"down"===o.direction?this.offset({x:0,y:o.ppms*t}):"right"===o.direction?this.offset({x:o.ppms*t,y:0}):"left"===o.direction&&this.offset({x:-o.ppms*t,y:0})}offset(t){this.x+=t.x,this.y+=t.y}setNextMoveCenter(t,o){const e={x:this.x+t.x*o,y:this.y+t.y*o};return!!this._inBounds(e)&&(this.nextCenter=e,!0)}_inBounds(t){return(!this.min||t.x>=this.min.x&&t.y>=this.min.y)&&(!this.max||t.x<=this.max.x&&t.y<=this.max.y)}}c.Position=l},97:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SpriteSheet=void 0;class l{constructor(t){this.sheet=new Image,this.sheet.src=t.src,this.size=t.size}deepCopy(){return new l({src:this.sheet.src,size:{...this.size}})}}c.SpriteSheet=l},9635:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Sprite=void 0;const h=l(628);class t{constructor(e){var s,d,i,n;this.curr=0,this.sprites=1,this.reverseUpdate=!!e.reverseUpdate,this.sprites=null!==(s=e.sprites)&&void 0!==s?s:1,this.curr=null!==(d=e.curr)&&void 0!==d?d:this.reverseUpdate?this.sprites-1:0,this.sheet=e.sheet,this.clipSize=e.clipSize,this.drawSize=e.drawSize,this.offset=null!==(i=e.offset)&&void 0!==i?i:{x:0,y:0},this.offsetRow2=e.offsetRow2,this.clock=e.clock,this.scale=null!==(n=e.scale)&&void 0!==n?n:{x:1,y:1},this._originalSprite=this.curr}deepCopy(e){var s,d,i,n,a,r,u,m,p,v,g;return new t({sheet:null!==(s=e?.sheet)&&void 0!==s?s:this.sheet.deepCopy(),clipSize:null!==(d=e?.clipSize)&&void 0!==d?d:{...this.clipSize},drawSize:null!==(i=e?.drawSize)&&void 0!==i?i:{...this.drawSize},clock:null!==(n=e?.clock)&&void 0!==n?n:null===(a=this.clock)||void 0===a?void 0:a.deepCopy(),sprites:null!==(r=e?.sprites)&&void 0!==r?r:this.sprites,curr:null!==(u=e?.curr)&&void 0!==u?u:this.curr,offset:null!==(m=e?.offset)&&void 0!==m?m:{...this.offset},offsetRow2:null!==(p=e?.offsetRow2)&&void 0!==p?p:this.offsetRow2?{...this.offsetRow2}:void 0,reverseUpdate:null!==(v=e?.reverseUpdate)&&void 0!==v?v:this.reverseUpdate,scale:null!==(g=e?.scale)&&void 0!==g?g:{...this.scale}})}get duration(){var e,s;return(null!==(s=null===(e=this.clock)||void 0===e?void 0:e.initialTime)&&void 0!==s?s:0)*this.sprites}next(){this.curr=(this.curr+1*(this.reverseUpdate?-1:1)+this.sprites)%this.sprites}render(e,s,d){var i,n,a,r;let u=this.offset,m=this.curr;this.offsetRow2&&this.offsetRow2.breakPoint<=this.curr&&(u=this.offsetRow2,m=this.curr-this.offsetRow2.breakPoint);const p={width:null!==(n=null===(i=d?.sizeOverride)||void 0===i?void 0:i.width)&&void 0!==n?n:this.drawSize.width,height:null!==(r=null===(a=d?.sizeOverride)||void 0===a?void 0:a.height)&&void 0!==r?r:this.drawSize.height},v={x:d?.asCenter?e.x:e.x+p.width/2,y:d?.asCenter?e.y:e.y+p.height/2};s.context.save(),s.context.translate(v.x,v.y),s.context.scale(this.scale.x,this.scale.y),e instanceof h.Position&&s.context.rotate(e.angle),s.context.translate(-v.x,-v.y),s.context.drawImage(this.sheet.sheet,u.x+m*this.clipSize.width,u.y,this.clipSize.width,this.clipSize.height,d?.asCenter?e.x-p.width/2:e.x,d?.asCenter?e.y-p.height/2:e.y,p.width,p.height),s.context.restore()}reset(){var e;null===(e=this.clock)||void 0===e||e.reset(),this.curr=this._originalSprite}update(e){var s;if(this.clock&&(null===(s=this.clock)||void 0===s||s.update(e),this.clock.timer<=0)){const d=this.clock.timer;this.clock.reset(),this.next(),this.update(-d)}}}c.Sprite=t},7374:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StatusBarSpriteElement=void 0,c.StatusBarSpriteElement=class l{constructor(t){this.position=t.position,this.size=t.size,this.sprite=t.sprite}render(t){this.sprite.render(this.position,t,{sizeOverride:this.size})}}},6882:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StatusBar=void 0;const h=l(7760),t=l(1831),o=l(628),e=l(97),s=l(9635),d=l(7374),i=l(1343);class n{constructor(r){var u;this.position={x:0,y:0},this.lives=[],this.size=r.size,this.position=null!==(u=r.position)&&void 0!==u?u:{x:0,y:0},this._score=r.score,this.gameLives=r.gameLives,this._initLives(r.gameLives.getValue()),this._initTimerDisplay(r.gameClock)}render(r){this.lives.forEach(u=>u.render(r)),this._renderScore(r),this.timerDisplay.render(r)}update(r){this._updateGameClock(r)&&(this.lives.pop(),this.lives.length&&this.timerDisplay.reset()),this.gameLives.getValue()!==this.lives.length&&this._initLives(this.gameLives.getValue()),this._updateScore(r)}get score(){return this._score.getValue()}set score(r){this._score.next(r)}_initLives(r){const u=[];for(let m=0;m<r;m++){const p={width:this.size.height,height:this.size.height},v=new o.Position({angle:0,x:this.position.x+80+p.width*m,y:this.position.y}),g=new s.Sprite({sheet:new e.SpriteSheet({src:`${h.environment.assetPrefix}game_sprites.png`,size:{width:600,height:561}}),clipSize:{width:54,height:70},drawSize:p,sprites:1}),y=new d.StatusBarSpriteElement({position:v,size:p,sprite:g});u.push(y)}this.lives=u}_initTimerDisplay(r){const u=new Audio;u.src=`${h.environment.assetPrefix}time.mp3`,this.timerDisplay=new i.TimerDisplay({size:{width:.3*this.size.width*.85,height:this.size.height/2},position:new o.Position({x:.7*this.size.width,y:this.position.y+this.size.height/4}),clock:r,audio:u})}_renderScore(r){t.GraphicService.drawText(r,{text:`Score: ${this.score}`,lineWidth:1,font:"32px Arial",fillStyle:"#3bffff",position:{...this.position}})}_updateGameClock(r){return this.timerDisplay.update(r),!(this.timerDisplay.clock.timer>0)}_updateScore(r){this.score=Math.max(this.score-r/100,100)}}c.StatusBar=n,n.LIVES_OFFSET={x:80,y:0}},1343:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TimerDisplay=void 0;const h=l(1831);c.TimerDisplay=class t{constructor(e){this._audioPlaying=!1,this.size=e.size,this.position=e.position,this.clock=e.clock,this.audio=e.audio,this.update(0)}render(e){h.GraphicService.drawBox(e,{position:{...this.position},lineWidth:6,fillStyle:"#3bffff",size:{width:this.size.width*(this.clock.timer/this.clock.initialTime),height:this.size.height}}),h.GraphicService.drawBox(e,{position:{...this.position},strokeStyle:"black",lineWidth:6,size:this.size})}reset(){this.clock.reset(),this._audioPlaying=!1,this.audio.currentTime=0}update(e){this.clock.update(e)}}},3148:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WinRow=void 0;const h=l(8985),t=l(9155),o=l(8364),e=l(628),s=l(5760),d=l(7667);class i extends h.BoardRow{constructor(a){super(a),this.completedSprite=a.completedSprite,this.winSlots=a.winSlots}deepCopy(a){return new i(this.deepCopyParams(a))}deepCopyParams(a){return{...super.deepCopyParams(a),completedSprite:this.completedSprite.deepCopy(),winSlots:this.winSlots.map(r=>{var u,m;return{target:r.target.deepCopy(),completedSprite:null!==(m=null===(u=r.completedSprite)||void 0===u?void 0:u.deepCopy())&&void 0!==m?m:null}})}}getCollision(a){const r=super.getCollision(a);if(r?.type===t.CollisionType.die&&!r.isDefault)return r;let u=null;for(let m=0;m<this.winSlots.length;m++){const p=this.winSlots[m].target.getCollision(a);if(p){if(this.winSlots[m].completedSprite)return{drift:this.move.drift,type:t.CollisionType.die,isDefault:!1};u=p,this.winSlots[m].completedSprite=this.completedSprite.deepCopy();break}}return u??r}render(a){super.renderBackground(a),this.winSlots.forEach(r=>{var u;r.target.render(a),null===(u=r.completedSprite)||void 0===u||u.render(r.target.position,a)}),this.obstacles.forEach(r=>r.render(a))}startLevel(){const a=1.5*this.size.height,r=2.6*this.size.height;for(let u=0;u<5;u++){const m=new e.Position({x:this.position.x+a+r*u,y:this.position.y}),p={sprite:s.GameSpriteService.gameSprites.winGood,safe:!0,win:!0},v={target:new o.Obstacle({position:m,move:new d.Move({distance:0}),spriteDangerArr:[p],size:{width:this.size.height,height:this.size.height}}),completedSprite:null};this.winSlots.push(v)}}get completed(){return this.winSlots.reduce((a,r)=>a&&!!r.completedSprite,!0)}}c.WinRow=i},633:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BoardRowService=void 0;const h=l(5760),t=l(8985),o=l(7667);class e{static getDefaultRow(d,i){return new t.BoardRow(e.getDefaultRowParams(d,i))}static getDefaultRowParams(d,i){var n,a,r;return{position:d,move:null!==(n=i?.move)&&void 0!==n?n:new o.Move({distance:0}),background:null!==(a=i?.background)&&void 0!==a?a:this.defaultSprite,defaultSafe:null!==(r=i?.defaultSafe)&&void 0!==r?r:this.defaultSafe,size:i?.size,obstacles:i?.obstacles,obstaclesIdx:i?.obstaclesIdx,currObstacles:i?.currObstacles,min:i?.min,max:i?.max}}}c.BoardRowService=e,e.defaultSprite=h.GameSpriteService.gameSprites.grass,e.defaultSafe=!1},6953:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterService=void 0;const h=l(1990),t=l(2468),o=l(6696),e=l(7667),s=l(628),d=l(9635),i=l(5760),n=l(7760);c.CharacterService=class a{static frog(){const u=o.Game.ROW_HEIGHT/2,m=new d.Sprite({...i.GameSpriteService.gameSprites.frog}),p=new d.Sprite({...i.GameSpriteService.gameSprites.die}),v=new Audio,g=new e.Move({distance:o.Game.ROW_HEIGHT,clock:new t.Clock({initialTime:350})});return v.src=`${n.environment.assetPrefix}move.mp3`,new h.Character({radius:u,position:new s.Position({x:o.Game.SQR_SIZE/2,y:(o.Game.ROWS-.5)*o.Game.ROW_HEIGHT,angle:Math.PI,max:{x:o.Game.SQR_SIZE,y:o.Game.SQR_SIZE}}),move:g,sprite:m,dyingSprite:p})}}},141:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CollisionService=void 0,c.CollisionService=class l{static lineCircleIntersect(t,o){const e_x=t.point2.x-t.point1.x,e_y=t.point2.y-t.point1.y,s_x=t.point1.x-o.center.x,s_y=t.point1.y-o.center.y,d=-2*(e_x*s_x+e_y*s_y),i=2*(e_x*e_x+e_y*e_y),n=Math.sqrt(d*d-2*i*(s_x*s_x+s_y*s_y-o.radius*o.radius));if(isNaN(n))return!1;const a=(d-n)/i,r=(d+n)/i;return a<=1&&a>=0||r<=1&&r>=0}static rectCircleIntersect(t,o,e){const s=t,d={x:t.x+o.width,y:t.y},i={x:t.x+o.width,y:t.y+o.height},n={x:t.x,y:t.y+o.height},a=this.lineCircleIntersect({point1:s,point2:d},e),r=this.lineCircleIntersect({point1:d,point2:i},e),u=this.lineCircleIntersect({point1:i,point2:n},e),m=this.lineCircleIntersect({point1:n,point2:s},e);return a||r||u||m||e.center.x>t.x&&e.center.x<t.x+o.width&&e.center.y>t.y&&e.center.y<t.y+o.height}}},5692:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GameBoardService=void 0;const h=l(8985),t=l(9655),o=l(6696),e=l(7667),s=l(628),d=l(5760),i=l(1742),n=l(1928),a=l(8614);c.GameBoardService=class r{static generateBoard(m,p){return new t.GameBoard({rows:[...this.generateRiverRows(new s.Position({x:0,y:2*o.Game.ROW_HEIGHT}),m,p?.rows.slice(3,7)),...this.generateWinRow(new s.Position({x:0,y:0*o.Game.ROW_HEIGHT})),this.generateLandRow(new s.Position({x:0,y:7*o.Game.ROW_HEIGHT}),p?.rows[8]),...this.generateRoadRows(new s.Position({x:0,y:8*o.Game.ROW_HEIGHT}),m,p?.rows.slice(9,13)),this.generateLandRow(new s.Position({x:0,y:13*o.Game.ROW_HEIGHT}),p?.rows[14])]})}static generateLandRow(m,p){const v=new e.Move({distance:0});return new h.BoardRow({position:m,move:v,background:d.GameSpriteService.gameSprites.grass,defaultSafe:!0,currObstacles:p?.obstacles})}static generateRiverRows(m,p,v){const g=[],y=m.deepCopy();y.offset({x:0,y:0*o.Game.ROW_HEIGHT}),g.push(i.RiverService.newLongSlowLogRow(y,p,v?.[0]));const f=m.deepCopy();f.offset({x:0,y:1*o.Game.ROW_HEIGHT}),g.push(i.RiverService.newTurtle2Row(f,p,v?.[1]));const w=m.deepCopy();w.offset({x:0,y:2*o.Game.ROW_HEIGHT}),g.push(i.RiverService.newLongFastLogRow(w,p,v?.[2]));const _=m.deepCopy();_.offset({x:0,y:3*o.Game.ROW_HEIGHT}),g.push(i.RiverService.newShortLogRow(_,p,v?.[3]));const x=m.deepCopy();return x.offset({x:0,y:4*o.Game.ROW_HEIGHT}),g.push(i.RiverService.newTurtle3Row(x,p,v?.[4])),g}static generateRoadRows(m,p,v){const g=[];g.push(n.RoadService.newSemiRow(m,p,v?.[0]));const y=m.deepCopy();y.offset({x:0,y:1*o.Game.ROW_HEIGHT}),g.push(n.RoadService.newFireRow(y,p,v?.[1]));const f=m.deepCopy();f.offset({x:0,y:2*o.Game.ROW_HEIGHT}),g.push(n.RoadService.newBlueRow(f,p,v?.[2]));const w=m.deepCopy();w.offset({x:0,y:3*o.Game.ROW_HEIGHT}),g.push(n.RoadService.newGreenRow(w,p,v?.[3]));const _=m.deepCopy();return _.offset({x:0,y:4*o.Game.ROW_HEIGHT}),g.push(n.RoadService.newYellowRow(_,p,v?.[4])),g}static generateWinRow(m){const p=[],v=m.deepCopy();v.offset({x:0,y:0*o.Game.ROW_HEIGHT}),p.push(a.WinRowService.newBlankRow(v));const g=m.deepCopy();g.offset({x:0,y:.5*o.Game.ROW_HEIGHT}),p.push(a.WinRowService.newBlankRow(g));const y=m.deepCopy();return y.offset({x:0,y:1*o.Game.ROW_HEIGHT}),p.push(a.WinRowService.newLilyPadRow(y)),p}}},96:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GameInitService=void 0;const h=l(1730),t=l(6696),o=l(6882),e=l(6953),s=l(5692);c.GameInitService=class d{static game(){return new t.Game({level:0,levels:1,character:e.CharacterService.frog(),board:s.GameBoardService.generateBoard(0)})}static highScores(){return h.RecordsService.highScores}static statusBar(n){return new o.StatusBar({size:{width:t.Game.SQR_SIZE,height:t.Game.ROW_HEIGHT},gameLives:n.lives,score:n._score,gameClock:n.clock,position:{x:0,y:0}})}}},9549:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GameLoop=void 0;const h=l(6696),t=l(1831),o=l(8537),e=l(5692),s=l(96);c.GameLoop=class d{constructor(n,a){var r,u,m;if(this._inputService=new o.InputService,this._lastCycle=performance.now(),this._requestFrame=!0,this._shouldCheckCollisions=!0,this._canvas=this.getCanvasContext(n),n.width!==h.Game.SQR_SIZE||n.height!==h.Game.SQR_SIZE)throw Error("Canvas element is not of correct size. Please set the height and width to CANVAS_SIZE");this._game=null!==(r=a.game)&&void 0!==r?r:s.GameInitService.game(),this._statusBar=null!==(u=a.statusBar)&&void 0!==u?u:s.GameInitService.statusBar(this._game),this._game.playing=!0,this._shouldCheckCollisions=!0,this._game.startLevel(),(null===(m=a.start)||void 0===m||m)&&this.startGameLoop()}getCanvasContext(n){const a=n.getContext("2d");if(!a)throw Error("Invalid canvas element. There is no valid .getContext function");return{canvas:n,context:a}}startGameLoop(){this._game.gameOverClock.reset(),this._game.clock.reset(),this._lastCycle=performance.now(),this._requestFrame=!0,this._gameLoop(performance.now())}stopGameLoop(){console.warn("Game loop stopped"),this._game.playing=!1,this._requestFrame=!1}_checkCollisions(){var n;this._game.character.move.drift={x:0,y:0};const r=this._game.board.getCollision(this._game.character.hitCircle);this._game.character.move.drift=null!==(n=r.drift)&&void 0!==n?n:{x:0,y:0},r.points&&(this._game.score=this._game.score+r.points),"win"===r.type?this._success():"die"===r.type&&this._loseALife()}_gameLoop(n){const a=n-this._lastCycle;this._lastCycle=n,this._game.waitTimer.timer<=0&&this._inputService.processInput(this._game.character),this._update(a),this._render(),this._requestFrame&&requestAnimationFrame(r=>this._gameLoop(r))}_gameOverUpdate(n){this._game.gameOverClock.update(n),this._game.gameOverClock.timer<=0&&this._gameOverAction()}_gameOverAction(){this._game.character.shouldRender=!1,sessionStorage.setItem("score",JSON.stringify(this._game.score)),sessionStorage.setItem("won",JSON.stringify(this._game.won)),this._game.won?this._nextLevel():this._lost()}_inProgressUpdate(n){this._game.character.hasMoved&&(this._game.playing&&!this._game.character.dead&&!this._game.character.isDying&&(this._game.clock.update(n),this._game.clock.timer<=0&&this._game.character.startDying()),this._shouldCheckCollisions&&this._game.playing?(this._checkCollisions(),this._statusBar.update(n)):this._game.character.dead&&(this._game.lives.getValue()?this._newLife():(this._game.won=!1,this._game.gameOver=!0)))}_loseALife(){this._game.lives.next(this._game.lives.getValue()-1),this._game.character.startDying(),this._shouldCheckCollisions=!1}_lost(){this._game.playing=!1,this._game.level=0,this.stopGameLoop();const n=new CustomEvent("game-over");document.dispatchEvent(n)}_newLife(){this._game.character.reset(),this._shouldCheckCollisions=!0,this._game.clock.reset()}_nextLevel(){this._game.level++,this._game.level===this._game.levels?this._won():(this._game.board=e.GameBoardService.generateBoard(this._game.level,this._game.board),this._game.startLevel())}_render(){t.GraphicService.clearCanvas(this._canvas),this._game.board.render(this._canvas),this._statusBar.render(this._canvas),(!this._game.gameOver||!this._game.won)&&this._game.character.render(this._canvas)}_success(){this._game.waitTimer.reset(),this._game.score+=200,this._game.board.allIdxDone()?(this._game.score+=1e3+500*this._game.lives.getValue(),this._game.won=!0,this._game.gameOver=!0):this._newLife()}_update(n){this._game.waitTimer.timer>0&&this._game.waitTimer.update(n),this._game.board.update(n),this._game.character.update(n),this._game.gameOver?this._game.playing&&this._gameOverUpdate(n):this._inProgressUpdate(n)}_won(){this._game.playing=!1,this._game.level=0,this.stopGameLoop();const n=new CustomEvent("game-over");document.dispatchEvent(n)}}},5760:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GameSpriteService=void 0;const h=l(2468),t=l(110),o=l(6696),e=l(9635),s=l(8931);class d{}c.GameSpriteService=d,d.gameSprites={[t.GameSprite.carBlue]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,clipSize:{width:130,height:70},offset:{x:12,y:483},drawSize:{width:150,height:.9*o.Game.ROW_HEIGHT},scale:{x:-1,y:1}}),[t.GameSprite.carFire]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,clipSize:{width:180,height:80},offset:{x:10,y:400},drawSize:{width:150,height:.9*o.Game.ROW_HEIGHT}}),[t.GameSprite.carGreen]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,clipSize:{width:135,height:70},offset:{x:155,y:483},drawSize:{width:150,height:.9*o.Game.ROW_HEIGHT}}),[t.GameSprite.carSemi]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:200,y:400},clipSize:{width:290,height:70},drawSize:{width:200,height:.9*o.Game.ROW_HEIGHT},scale:{x:-1,y:1}}),[t.GameSprite.carYellow]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:305,y:483},clipSize:{width:135,height:70},drawSize:{width:150,height:.9*o.Game.ROW_HEIGHT},scale:{x:-1,y:1}}),[t.GameSprite.logLg]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:12,y:257},clipSize:{width:353,height:58},drawSize:{width:370,height:.9*o.Game.ROW_HEIGHT}}),[t.GameSprite.logSm]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:386,y:257},clipSize:{width:187,height:58},drawSize:{width:200,height:.9*o.Game.ROW_HEIGHT}}),[t.GameSprite.turtle]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:402,y:6},clipSize:{width:74,height:65},drawSize:{width:75,height:.9*o.Game.ROW_HEIGHT},offsetRow2:{x:4,y:84,breakPoint:2},sprites:7,scale:{x:-1,y:1},clock:new h.Clock({initialTime:200})}),[t.GameSprite.turtleEmerging]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:375,y:83},clipSize:{width:72,height:65},drawSize:{width:75,height:.9*o.Game.ROW_HEIGHT},sprites:4,curr:3,reverseUpdate:!0,scale:{x:-1,y:1},clock:new h.Clock({timer:200})}),[t.GameSprite.turtleSink]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:375,y:83},clipSize:{width:72,height:65},drawSize:{width:75,height:.9*o.Game.ROW_HEIGHT},sprites:4,scale:{x:-1,y:1},clock:new h.Clock({timer:200})}),[t.GameSprite.fly]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:84,y:172},clipSize:{width:42,height:46},drawSize:{width:.9*o.Game.ROW_HEIGHT,height:.9*o.Game.ROW_HEIGHT}}),[t.GameSprite.lillyPad]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:137,y:160},clipSize:{width:80,height:80},drawSize:{width:.8*o.Game.ROW_HEIGHT,height:.8*o.Game.ROW_HEIGHT}}),[t.GameSprite.die]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:300,y:300},clipSize:{width:70,height:50},drawSize:{width:o.Game.ROW_HEIGHT,height:o.Game.ROW_HEIGHT}}),[t.GameSprite.grass]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:137,y:160},clipSize:{width:80,height:80},drawSize:{width:o.Game.ROW_HEIGHT+1.5,height:o.Game.ROW_HEIGHT+1.5}}),[t.GameSprite.river]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:227,y:160},clipSize:{width:80,height:80},drawSize:{width:o.Game.ROW_HEIGHT+1.5,height:o.Game.ROW_HEIGHT+1.5}}),[t.GameSprite.road]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:316,y:160},clipSize:{width:80,height:80},drawSize:{width:o.Game.ROW_HEIGHT+5,height:o.Game.ROW_HEIGHT+1.5}}),[t.GameSprite.winBad]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:409,y:161},clipSize:{width:78,height:78},drawSize:{width:o.Game.ROW_HEIGHT+1.5,height:o.Game.ROW_HEIGHT+1.5}}),[t.GameSprite.winGood]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,offset:{x:498,y:160},clipSize:{width:80,height:80},drawSize:{width:o.Game.ROW_HEIGHT+1.5,height:o.Game.ROW_HEIGHT+5}}),[t.GameSprite.frog]:new e.Sprite({sheet:s.SpriteSheetService.MAIN,clipSize:{width:54,height:70},drawSize:{width:.9*o.Game.ROW_HEIGHT,height:.9*o.Game.ROW_HEIGHT}}),[t.GameSprite.alligatorBody]:new e.Sprite({sheet:s.SpriteSheetService.ALLIGATOR,clipSize:{width:155,height:79},drawSize:{width:378,height:.9*o.Game.ROW_HEIGHT}}),[t.GameSprite.alligatorHead]:new e.Sprite({sheet:s.SpriteSheetService.ALLIGATOR,offset:{x:192,y:0},offsetRow2:{x:307,y:0,breakPoint:1},clipSize:{width:155,height:79},drawSize:{width:378,height:.9*o.Game.ROW_HEIGHT},sprites:2}),[t.GameSprite.guts]:new e.Sprite({sheet:s.SpriteSheetService.GUTS,clipSize:s.SpriteSheetService.GUTS.size,drawSize:{width:20,height:20}}),[t.GameSprite.fire]:new e.Sprite({sheet:s.SpriteSheetService.FIRE,clipSize:s.SpriteSheetService.FIRE.size,drawSize:{width:20,height:20}})}},1831:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GraphicService=void 0,c.GraphicService=class l{static clearCanvas(t){t.context.clearRect(0,0,t.canvas.width,t.canvas.height)}static drawBox(t,o){var e,s,d;t.context.save(),t.context.lineWidth=null!==(e=o.lineWidth)&&void 0!==e?e:0,t.context.fillStyle=null!==(s=o.fillStyle)&&void 0!==s?s:"black",t.context.strokeStyle=null!==(d=o.strokeStyle)&&void 0!==d?d:"black",t.context.beginPath(),t.context.moveTo(o.position.x,o.position.y),t.context.lineTo(o.position.x+o.size.width,o.position.y),t.context.lineTo(o.position.x+o.size.width,o.position.y),t.context.lineTo(o.position.x+o.size.width,o.position.y+o.size.height),t.context.lineTo(o.position.x,o.position.y+o.size.height),t.context.closePath(),o.fillStyle&&t.context.fill(),o.strokeStyle&&t.context.stroke(),t.context.restore()}static drawCircle(t,o){var e,s,d;t.context.save(),t.context.lineWidth=null!==(e=o.lineWidth)&&void 0!==e?e:0,t.context.fillStyle=null!==(s=o.fillStyle)&&void 0!==s?s:"black",t.context.strokeStyle=null!==(d=o.strokeStyle)&&void 0!==d?d:"black",t.context.beginPath(),t.context.arc(o.circle.center.x,o.circle.center.y,o.circle.radius,0,2*Math.PI),t.context.closePath(),o.fillStyle&&t.context.fill(),o.strokeStyle&&t.context.stroke(),t.context.restore()}static drawText(t,o){var e,s,d;t.context.save(),o.fillStyle=null!==(e=o.fillStyle)&&void 0!==e?e:"black",o.font=null!==(s=o.font)&&void 0!==s?s:"32px Arial",o.position=null!==(d=o.position)&&void 0!==d?d:{x:0,y:0},t.context.fillText(o.text,o.position.x,o.position.y),t.context.restore()}static drawTexture(t,o,e,s,d){t.context.save(),t.context.translate(e.x,e.y),t.context.rotate(s),t.context.translate(-e.x,-e.y),t.context.drawImage(o,e.x-d.width/2,e.y-d.height/2,d.width,d.height),t.context.restore()}}},8537:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InputService=void 0;const h=l(9721);c.InputService=class t{constructor(){this.inputBuffer={},this.controls=h.Controls.FromLocalStorage(),this._watchForInput()}processInput(e){if(!e.dead&&!e.isDying)for(const s in this.inputBuffer)s===this.controls.up?e.setMove("up"):s===this.controls.down?e.setMove("down"):s===this.controls.right?e.setMove("right"):s===this.controls.left&&e.setMove("left")}_watchForInput(){window.addEventListener("keydown",e=>this.inputBuffer[e.key]=e.key),window.addEventListener("keyup",e=>delete this.inputBuffer[e.key])}}},1976:(S,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RandomService=void 0;class l{static nextDouble(){return Math.random()}static nextRange(t,o){const e=o-t;return Math.floor(Math.random()*e+t)}static nextCircleVector(){const t=2*Math.random()*Math.PI;return{x:Math.cos(t),y:Math.sin(t)}}static nextThrustVector(t){const e=1*Math.random()/3*Math.PI+t-1/6*Math.PI;return{x:Math.cos(e),y:Math.sin(e)}}static nextGaussianPositive(t){const o=l.nextGaussian(t);return Math.abs(o)}static nextGaussian(t){let o=0,e=0,s=0,d=null,i=0;if(d){const n=t.mean+d*t.stdDev;return d=null,n}do{o=2*Math.random()-1,e=2*Math.random()-1,i=o*o+e*e}while(i>=1);return i=Math.sqrt(-2*Math.log(i)/i),s=o*i,d=e*i,t.mean+s*t.stdDev}}c.RandomService=l},1730:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RecordsService=void 0;const h=l(7760);class t{static get highScores(){const e=localStorage.getItem(h.environment.highScores.key);return e?JSON.parse(e):(this.highScores=[],[])}static set highScores(e){localStorage.setItem(h.environment.highScores.key,JSON.stringify(e))}static addHighScore(e,s){const d=s??t.highScores;if(!this.isHighScore(e.score,d))throw Error("The given score is not a high score");if(e)for(let i=0;i<h.environment.highScores.limit;i++){if(i>=d.length){d.push(e);break}if(e.score>d[i].score){d.splice(i,0,e),t.highScores=d;break}}}static isHighScore(e,s){const d=s??t.highScores;return e>d[d.length].score}}c.RecordsService=t},1742:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RiverService=void 0;const h=l(2468),t=l(7667),o=l(8364),e=l(633),s=l(5760);class d extends e.BoardRowService{static newLongSlowLogRow(n,a,r){var u;if(a>0)throw Error("level not accepted");const v=new t.Move({distance:[15][a],direction:"right"});v.drift={x:v.ppms,y:0};const g=d.getDefaultRow(n,{move:v,background:s.GameSpriteService.gameSprites.river}),w={obstacles:[[{sprite:s.GameSpriteService.gameSprites.logLg.deepCopy(),safe:!0}]],wait:new h.Clock({timer:0,initialTime:[1e4][a]})};return g.nextObstacles=[w],g.nextObstaclesIdx=0,g.obstacles=null!==(u=r?.obstacles)&&void 0!==u?u:[],g}static newLongFastLogRow(n,a,r){var u;if(a>0)throw Error("level not accepted");const v=new t.Move({distance:[25][a],direction:"right"});v.drift={x:v.ppms,y:0};const g=d.getDefaultRow(n,{move:v,background:s.GameSpriteService.gameSprites.river}),w={obstacles:[[{sprite:s.GameSpriteService.gameSprites.logLg.deepCopy(),safe:!0}]],wait:new h.Clock({timer:0,initialTime:[8e3][a]})};return g.nextObstacles=[w],g.nextObstaclesIdx=0,g.obstacles=null!==(u=r?.obstacles)&&void 0!==u?u:[],g}static newTurtle2Row(n,a,r){var u;if(a>0)throw Error("level not accepted");const v=new t.Move({distance:[25][a],direction:"left"});v.drift={x:-v.ppms,y:0};const g=d.getDefaultRow(n,{move:v,background:s.GameSpriteService.gameSprites.river}),f=[{sprite:s.GameSpriteService.gameSprites.turtle.deepCopy(),safe:!0}],w={obstacles:[f,f],wait:new h.Clock({timer:0,initialTime:[4e3][a]})};return g.nextObstacles=[w],g.nextObstaclesIdx=0,g.obstacles=null!==(u=r?.obstacles)&&void 0!==u?u:[],g}static newTurtle3Row(n,a,r){var u;if(a>0)throw Error("level not accepted");const v=new t.Move({distance:[10][a],direction:"left"});v.drift={x:-v.ppms,y:0};const g=d.getDefaultRow(n,{move:v,background:s.GameSpriteService.gameSprites.river}),y=s.GameSpriteService.gameSprites.turtle,f={sprite:y.deepCopy(),safe:!0,clock:new h.Clock({initialTime:y.duration})},w=s.GameSpriteService.gameSprites.turtleSink,_={sprite:w.deepCopy(),safe:!0,clock:new h.Clock({timer:0,initialTime:w.duration})},C={sprite:s.GameSpriteService.gameSprites.turtleSink.deepCopy({curr:3,clock:new h.Clock({initialTime:1e11})}),safe:!1,clock:new h.Clock({timer:0,initialTime:300})},b=s.GameSpriteService.gameSprites.turtleEmerging,G=[f,f,_,C,{sprite:b.deepCopy(),safe:!0,clock:new h.Clock({timer:0,initialTime:b.duration})}],R={obstacles:[o.Obstacle.deepCopySpriteDangerArr(G),o.Obstacle.deepCopySpriteDangerArr(G),o.Obstacle.deepCopySpriteDangerArr(G)],wait:new h.Clock({timer:0,initialTime:[11e3][a]})};return g.nextObstacles=[R],g.nextObstaclesIdx=0,g.obstacles=null!==(u=r?.obstacles)&&void 0!==u?u:[],g}static newShortLogRow(n,a,r){var u;if(a>0)throw Error("level not accepted");const v=new t.Move({distance:[10][a],direction:"right"});v.drift={x:v.ppms,y:0};const g=d.getDefaultRow(n,{move:v,background:s.GameSpriteService.gameSprites.river}),w={obstacles:[[{sprite:s.GameSpriteService.gameSprites.logSm.deepCopy(),safe:!0}]],wait:new h.Clock({timer:0,initialTime:[8e3][a]})};return g.nextObstacles=[w],g.nextObstaclesIdx=0,g.obstacles=null!==(u=r?.obstacles)&&void 0!==u?u:[],g}}c.RiverService=d},1928:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RoadService=void 0;const h=l(633),t=l(5760),o=l(7667),e=l(2468);class s extends h.BoardRowService{static newSemiRow(i,n,a){var r;if(n>0)throw Error("level not accepted");const p=new o.Move({distance:[15][n],direction:"left"}),v=s.getDefaultRow(i,{move:p,background:t.GameSpriteService.gameSprites.road,defaultSafe:!0}),f={obstacles:[[{sprite:t.GameSpriteService.gameSprites.carSemi.deepCopy(),safe:!1}]],wait:new e.Clock({timer:0,initialTime:[18e3][n]})};return v.nextObstacles=[f],v.nextObstaclesIdx=0,v.obstacles=null!==(r=a?.obstacles)&&void 0!==r?r:[],v}static newFireRow(i,n,a){var r;if(n>0)throw Error("level not accepted");const p=new o.Move({distance:[12][n],direction:"right"}),v=s.getDefaultRow(i,{move:p,background:t.GameSpriteService.gameSprites.road,defaultSafe:!0}),f={obstacles:[[{sprite:t.GameSpriteService.gameSprites.carFire.deepCopy(),safe:!1}]],wait:new e.Clock({timer:0,initialTime:[17e3][n]})};return v.nextObstacles=[f],v.nextObstaclesIdx=0,v.obstacles=null!==(r=a?.obstacles)&&void 0!==r?r:[],v}static newBlueRow(i,n,a){var r;if(n>0)throw Error("level not accepted");const p=new o.Move({distance:[8][n],direction:"left"}),v=s.getDefaultRow(i,{move:p,background:t.GameSpriteService.gameSprites.road,defaultSafe:!0}),f={obstacles:[[{sprite:t.GameSpriteService.gameSprites.carBlue.deepCopy(),safe:!1}]],wait:new e.Clock({timer:0,initialTime:[13e3][n]})};return v.nextObstacles=[f],v.nextObstaclesIdx=0,v.obstacles=null!==(r=a?.obstacles)&&void 0!==r?r:[],v}static newGreenRow(i,n,a){var r;if(n>0)throw Error("level not accepted");const p=new o.Move({distance:[11][n],direction:"right"}),v=s.getDefaultRow(i,{move:p,background:t.GameSpriteService.gameSprites.road,defaultSafe:!0}),f={obstacles:[[{sprite:t.GameSpriteService.gameSprites.carGreen.deepCopy(),safe:!1}]],wait:new e.Clock({timer:0,initialTime:[8e3][n]})};return v.nextObstacles=[f],v.nextObstaclesIdx=0,v.obstacles=null!==(r=a?.obstacles)&&void 0!==r?r:[],v}static newYellowRow(i,n,a){var r;if(n>0)throw Error("level not accepted");const p=new o.Move({distance:[10][n],direction:"left"}),v=s.getDefaultRow(i,{move:p,background:t.GameSpriteService.gameSprites.road,defaultSafe:!0}),f={obstacles:[[{sprite:t.GameSpriteService.gameSprites.carYellow.deepCopy(),safe:!1}]],wait:new e.Clock({timer:0,initialTime:[12e3][n]})};return v.nextObstacles=[f],v.nextObstaclesIdx=0,v.obstacles=null!==(r=a?.obstacles)&&void 0!==r?r:[],v}}c.RoadService=s},8931:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SpriteSheetService=void 0;const h=l(97),t=l(7760);class o{}c.SpriteSheetService=o,o.ALLIGATOR=new h.SpriteSheet({src:`${t.environment.assetPrefix}alligator.png`,size:{width:381,height:79}}),o.FIRE=new h.SpriteSheet({src:`${t.environment.assetPrefix}fire.png`,size:{width:256,height:256}}),o.MAIN=new h.SpriteSheet({src:`${t.environment.assetPrefix}game_sprites.png`,size:{width:600,height:561}}),o.GUTS=new h.SpriteSheet({src:`${t.environment.assetPrefix}guts.png`,size:{width:256,height:256}})},8614:(S,c,l)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WinRowService=void 0;const h=l(3148),t=l(633),o=l(5760);class e extends t.BoardRowService{static newLilyPadRow(d){return new h.WinRow({...e.getDefaultRowParams(d,{background:o.GameSpriteService.gameSprites.winBad}),completedSprite:o.GameSpriteService.gameSprites.frog,winSlots:[]})}static newBlankRow(d){return e.getDefaultRow(d,{background:o.GameSpriteService.gameSprites.winBad})}}c.WinRowService=e},2113:S=>{S.exports={i8:"1.0.4"}}}]);